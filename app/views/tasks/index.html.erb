<div class="main-div" data-controller="filter-tasks">
  <div class="container d-flex justify-content-center flex-grow sticky-top pt-3">
    <div class="button-box d-flex flex-grow">
      <div class="btn btn-menu btn-active" data-filter-tasks-target="navButton">
        <p data-action="click->filter-tasks#show" class="all"> all</p>
      </div>
      <div class="btn btn-menu" data-filter-tasks-target="navButton">
        <p data-action="click->filter-tasks#show" class="user"> <%= current_user.username %></p>
      </div>
      <div class="btn btn-menu" data-filter-tasks-target="navButton">
        <p data-action="click->filter-tasks#show" class="partner"><%= current_user.household.users.reject { |user| user.id == current_user.id }[0].username %></p>
      </div>
      <div class="btn btn-menu" data-filter-tasks-target="navButton">
        <p data-action="click->filter-tasks#show" class="open"> open</p>
      </div>
    </div>
  </div>
<div class="hello">
  <h1>Hello <%= current_user.username %>!</h1>
</div>
  <div class="container search overflow-fix mt-3 pt-2">
    <%= form_with url: tasks_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "find task"
      %>
      <%= submit_tag "Search", class: "btn btn-flat" %>
    <% end %>
  </div>
  <div data-filter-tasks-target="allTasks" class="container pl-2 overflow-fix">
    <% @tasks.where(done: false).each do |task| %>
      <%= render "task", task: task %>
    <% end %>
  </div>
  <div data-filter-tasks-target="allTasksA" class="container pl-2 overflow-fix">
    <h3>done</h3>
    <% @tasks.where(done: true).each do |task| %>
      <%= render "task", task: task %>
    <% end %>
  </div>

  <div data-filter-tasks-target="currentUser" class="container pl-2 overflow-fix d-none">
      <% @tasks.where(assigned_to: current_user).and(@tasks.where(done: false)).each do |task| %>
        <%= render "task", task: task %>
      <% end %>
  </div>
  <div data-filter-tasks-target="currentUserA" class="container pl-2 overflow-fix d-none">
      <p>done</p>
      <% @tasks.where(assigned_to: current_user).and(@tasks.where(done: true)).each do |task| %>
        <%= render "task", task: task %>
      <% end %>
  </div>


  <div data-filter-tasks-target="userPartner" class="container pl-2 overflow-fix d-none">
      <% @tasks.where(assigned_to: current_user.household.users.reject { |user| user.id == current_user.id }[0]).and(@tasks.where(done: false)).each do |task| %>
        <%= render "task", task: task %>
      <% end %>
  </div>
  <div data-filter-tasks-target="userPartnerA" class="container pl-2 overflow-fix d-none">
      <p>Done</p>
      <% @tasks.where(assigned_to: current_user.household.users.reject { |user| user.id == current_user.id }[0]).and(@tasks.where(done: true)).each do |task| %>
        <%= render "task", task: task %>
      <% end %>
  </div>

  <div data-filter-tasks-target="unassigned" class="container pl-2 overflow-fix d-none">
        <% @tasks.where(assigned_to: nil).and(@tasks.where(done: false)).each do |task| %>
        <%= render "task", task: task %>
        <% end %>
  </div>
  <div data-filter-tasks-target="unassignedtask" class="container pl-2 overflow-fix d-none">
      <p>Done</p>
        <% @tasks.where(assigned_to: nil).and(@tasks.where(done: true)).each do |task| %>
        <%= render "task", task: task %>
        <% end %>
  </div>

</div>
